<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Untitled Document</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<style>
#body{
	width:500px;
	height:500px;
	margin:auto;
	background-color:#fff}
</style>
</head>

<body>

<div id="body"></div>
<button id="red">1</button>
<button id="blue">2</button>
<button id="green">3</button>
<script>
$(document).ready(function(){
    if(msg=="1"){
        $("#body").css("background-color", "red");
    }else
	if(msg=="2"){
        $("#body").css("background-color", "blue");
    }else
	if(msg=="3"){
        $("#body").css("background-color", "green");
    };
});
</script>

<script>
$(document).ready(function(){
    $("#red").click(function(){
        $("#body").css("background-color", "red");
    });
	$("#blue").click(function(){
        $("#body").css("background-color", "blue");
    });
	$("#green").click(function(){
        $("#body").css("background-color", "green");
    });
});
</script>
<script src="https://cdn.netpie.io/microgear.js"></script>
    <script>
      const APPID     = "CNX";
      const APPKEY    = "zpntm5LzKcn8dwe";
      const APPSECRET = "6y0e5SVliqw8XXcOyQBl6v4cG";
    
      var microgear = Microgear.create({
        key: APPKEY,
        secret: APPSECRET,
        alias : "ppn"         /*  optional  */
      });
    
      microgear.on('message',function(topic,msg) {
        console.log("on message");
      });
    
      microgear.on('connected', function() {
        microgear.setAlias('ppn');    /* alias can be renamed anytime with this function */
        console.log("on conencted")
      });
    
      microgear.on('present', function(event) {
       // console.log(event);
      });
    
      microgear.on('absent', function(event) {
        console.log(event);
      });
    
      microgear.connect(APPID);
    </script>

</body>
</html>
